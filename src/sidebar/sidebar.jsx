// react
import { useState, useEffect } from 'react'

// additional funtional
import { Link } from 'react-router-dom'

// styles
import './sidebar.scss'

function Sidebar() {

  // * sidebarState
  const [sidebarState, setSidebarState] = useState({
    section: localStorage.getItem('section') || 'Overview',
    isActive: true
  })

  // * effects
  useEffect(() => {
    localStorage.setItem('section', sidebarState.section)
  }, [sidebarState.section])

  // * methods
  const whichSectionActive = (section) => {
    const res = sidebarState.section === section ? 'sidebar__item sidebar__item--active' : 'sidebar__item'
    return res
  }

  return (
    <>
      <aside className="sidebar p-15">
        <nav>
          <h2 className="sidebar__title">Pages</h2>
          <ul className="sidebar__top-list">
            <li
              className={whichSectionActive('Overview')}
              onClick={() => setSidebarState(state => ({ ...state, section: 'Overview' }))}
            >
              <Link to="/">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1.78571 0.5H8.92857C9.63865 0.5 10.2143 1.07563 10.2143 1.78571V8.92857C10.2143 9.63865 9.63865 10.2143 8.92857 10.2143H1.78571C1.07563 10.2143 0.5 9.63865 0.5 8.92857V1.78571C0.5 1.07563 1.07563 0.5 1.78571 0.5Z" fill="#707175" fillOpacity="0.5" stroke="#707175" />
                  <path d="M16.0714 0.5H23.2143C23.9244 0.5 24.5 1.07563 24.5 1.78571V8.92857C24.5 9.63865 23.9244 10.2143 23.2143 10.2143H16.0714C15.3614 10.2143 14.7857 9.63865 14.7857 8.92857V1.78571C14.7857 1.07563 15.3614 0.5 16.0714 0.5Z" stroke="#707175" />
                  <path d="M1.78571 14.7857H8.92857C9.63865 14.7857 10.2143 15.3613 10.2143 16.0714V23.2143C10.2143 23.9244 9.63865 24.5 8.92857 24.5H1.78571C1.07563 24.5 0.5 23.9244 0.5 23.2143V16.0714C0.5 15.3613 1.07563 14.7857 1.78571 14.7857Z" stroke="#707175" />
                  <path d="M16.0714 14.7857H23.2143C23.9244 14.7857 24.5 15.3613 24.5 16.0714V23.2143C24.5 23.9244 23.9244 24.5 23.2143 24.5H16.0714C15.3614 24.5 14.7857 23.9244 14.7857 23.2143V16.0714C14.7857 15.3613 15.3614 14.7857 16.0714 14.7857Z" fill="#707175" fillOpacity="0.5" stroke="#707175" />
                </svg>
                <h3 className="sidebar__content-title">Overview</h3>
              </Link>
            </li>
            <li
              className={whichSectionActive('Budget')}
              onClick={() => setSidebarState(state => ({ ...state, section: 'Budget' }))}
            >
              <Link to="/budget">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15.625 4.6875H9.375L7.06055 1.21484C6.71387 0.695312 7.08496 0 7.70996 0H17.29C17.915 0 18.2861 0.695312 17.9395 1.21484L15.625 4.6875ZM9.375 6.25H15.625C15.8105 6.37207 16.0205 6.50879 16.2158 6.66016C19.0283 8.43262 25 12.251 25 20.3125C25 22.9004 22.9004 25 20.3125 25H4.6875C2.09863 25 0 22.9004 0 20.3125C0 12.251 5.97168 8.43262 8.74023 6.66016C8.97949 6.50879 9.18945 6.37207 9.375 6.25ZM13.4814 10.9375C13.4814 10.3955 13.042 9.95605 12.4561 9.95605C11.958 9.95605 11.5186 10.3955 11.5186 10.9375V11.2305C11.2451 11.2891 10.9424 11.3721 10.7422 11.4795C10.0146 11.8115 9.37988 12.4268 9.22363 13.3203C9.13574 13.8184 9.18457 14.3018 9.38965 14.7363C9.59473 15.166 9.91211 15.4687 10.2344 15.6885C10.8008 16.0742 11.5479 16.2988 12.1191 16.4697L12.2266 16.499C12.9102 16.709 13.3691 16.8604 13.6572 17.0703C13.7793 17.1582 13.8232 17.2266 13.8379 17.2705C13.8574 17.3096 13.8867 17.3975 13.8525 17.5928C13.8232 17.7637 13.7305 17.9102 13.4619 18.0225C13.1641 18.1494 12.6807 18.2129 12.0557 18.1152C11.7627 18.0664 11.2402 17.8906 10.7764 17.7344C10.6689 17.6953 10.5615 17.6611 10.4639 17.627C9.95117 17.4561 9.39941 17.7344 9.22852 18.2471C9.05762 18.7598 9.33594 19.3115 9.84863 19.4385C9.90723 19.502 9.98047 19.5264 10.0635 19.5557C10.4053 19.6875 11.0547 19.8926 11.5186 20V20.3125C11.5186 20.8545 11.958 21.2939 12.4561 21.2939C13.042 21.2939 13.4814 20.8545 13.4814 20.3125V20.0439C13.7402 19.9951 13.9941 19.8779 14.2285 19.8193C15 19.4922 15.6152 18.8574 15.7764 17.9297C15.8643 17.4219 15.8252 16.9336 15.6299 16.4893C15.4395 16.0498 15.1318 15.7275 14.8047 15.4932C14.2139 15.0586 13.4229 14.8242 12.832 14.6436L12.749 14.6338C12.0996 14.4238 11.6309 14.2773 11.333 14.0723C11.2061 13.9844 11.167 13.9258 11.1572 13.9014C11.1475 13.8818 11.1182 13.8232 11.1475 13.6572C11.167 13.5596 11.2402 13.3984 11.5479 13.2617C11.8213 13.1201 12.3486 13.042 12.9443 13.0908C13.1592 13.1689 13.8184 13.2959 14.0088 13.3447C14.5264 13.4863 15.0635 13.1738 15.2002 12.6514C15.3418 12.1338 15.0293 11.5967 14.5068 11.46C14.292 11.4014 13.8037 11.3037 13.4814 11.2451V10.9375Z" fill="#707175" />
                </svg>
                <h3 className="sidebar__content-title">Budget</h3>
              </Link>
            </li>
          </ul>
          <h2 className="sidebar__title">Account</h2>
          <ul>
            <li
              className={whichSectionActive('Settings')}
              onClick={() => setSidebarState(state => ({ ...state, section: 'Settings' }))}
            >
              <Link to="/settings">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.5 7.69231C9.82143 7.69231 7.69231 9.82143 7.69231 12.5C7.69231 15.1786 9.82143 17.3077 12.5 17.3077C15.1786 17.3077 17.3077 15.1786 17.3077 12.5C17.3077 9.82143 15.1786 7.69231 12.5 7.69231ZM12.5 15.9341C10.5769 15.9341 9.06593 14.4231 9.06593 12.5C9.06593 10.5769 10.5769 9.06593 12.5 9.06593C14.4231 9.06593 15.9341 10.5769 15.9341 12.5C15.9341 14.4231 14.4231 15.9341 12.5 15.9341Z" fill="#707175" />
                  <path d="M23.511 9.9142L21.4076 9.23811L20.9569 8.11131L22.0085 6.15819C22.2339 5.70747 22.1588 5.1065 21.7832 4.7309L19.9803 2.92802C19.6047 2.55242 19.0037 2.4773 18.553 2.70266L16.5999 3.75434L15.4731 3.30362L14.797 1.20025C14.6468 0.749533 14.196 0.373932 13.6702 0.373932H11.1161C10.5903 0.373932 10.1396 0.749533 10.0644 1.27537L9.38836 3.37874C8.93763 3.45386 8.56203 3.6041 8.18643 3.82946L6.23331 2.77778C5.78259 2.55242 5.18162 2.62754 4.80602 3.00314L3.00314 4.80602C2.62754 5.18162 2.55242 5.78259 2.77778 6.23331L3.75434 8.11131C3.6041 8.48691 3.45386 8.93763 3.30362 9.31323L1.20025 9.98932C0.749533 10.1396 0.373932 10.5903 0.373932 11.1161V13.6702C0.373932 14.196 0.749533 14.6468 1.27537 14.797L3.37874 15.4731L3.82946 16.5999L2.77778 18.553C2.55242 19.0037 2.62754 19.6047 3.00314 19.9803L4.80602 21.7832C5.18162 22.1588 5.78259 22.2339 6.23331 22.0085L8.18643 20.9569L9.31323 21.4076L9.98932 23.5861C10.1396 24.0368 10.5903 24.4124 11.1161 24.4124H13.6702C14.196 24.4124 14.6468 24.0368 14.797 23.5861L15.4731 21.4076L16.5999 20.9569L18.553 22.0085C19.0037 22.2339 19.6047 22.1588 19.9803 21.7832L21.7832 19.9803C22.1588 19.6047 22.2339 19.0037 22.0085 18.553L20.9569 16.5999L21.4076 15.4731L23.5861 14.797C24.0368 14.6468 24.4124 14.196 24.4124 13.6702V11.1161C24.4124 10.5903 24.0368 10.0644 23.511 9.9142ZM22.91 13.4448L20.2057 14.2712L20.1305 14.6468L19.4545 16.2243L19.2291 16.5999L20.5813 19.0789L19.0789 20.5813L16.5999 19.2291L16.2243 19.4545C15.6985 19.7549 15.1726 19.9803 14.6468 20.1305L14.2712 20.2057L13.4448 22.91H11.3415L10.5152 20.2057L10.1396 20.1305L8.56203 19.4545L8.18643 19.2291L5.70747 20.5813L4.20506 19.0789L5.55722 16.5999L5.33186 16.2243C5.03138 15.6985 4.80602 15.1726 4.65578 14.6468L4.58066 14.2712L1.87634 13.4448V11.3415L4.43042 10.5903L4.58066 10.2147C4.7309 9.61372 4.95626 9.08787 5.25674 8.56203L5.48211 8.18643L4.20506 5.70747L5.70747 4.20506L8.11131 5.55722L8.48691 5.33186C9.01275 5.03138 9.5386 4.80602 10.1396 4.65578L10.5152 4.50554L11.3415 1.87634H13.4448L14.2712 4.50554L14.6468 4.65578C15.1726 4.80602 15.6985 5.03138 16.2243 5.33186L16.5999 5.55722L19.0789 4.20506L20.5813 5.70747L19.2291 8.18643L19.4545 8.56203C19.7549 9.08787 19.9803 9.61372 20.1305 10.1396L20.2057 10.5152L22.91 11.3415V13.4448Z" fill="#707175" />
                </svg>
                <h3 className="sidebar__content-title">Settings</h3>
              </Link>
            </li>
          </ul>
        </nav>
      </aside >
      <aside className="sidebar-mobile p-15">
        <nav>
          <ul className="sidebar__top-list">
            <li
              className={whichSectionActive('Overview')}
              onClick={() => setSidebarState(state => ({ ...state, section: 'Overview' }))}
            >
              <Link to="/">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1.78571 0.5H8.92857C9.63865 0.5 10.2143 1.07563 10.2143 1.78571V8.92857C10.2143 9.63865 9.63865 10.2143 8.92857 10.2143H1.78571C1.07563 10.2143 0.5 9.63865 0.5 8.92857V1.78571C0.5 1.07563 1.07563 0.5 1.78571 0.5Z" fill="#707175" fillOpacity="0.5" stroke="#707175" />
                  <path d="M16.0714 0.5H23.2143C23.9244 0.5 24.5 1.07563 24.5 1.78571V8.92857C24.5 9.63865 23.9244 10.2143 23.2143 10.2143H16.0714C15.3614 10.2143 14.7857 9.63865 14.7857 8.92857V1.78571C14.7857 1.07563 15.3614 0.5 16.0714 0.5Z" stroke="#707175" />
                  <path d="M1.78571 14.7857H8.92857C9.63865 14.7857 10.2143 15.3613 10.2143 16.0714V23.2143C10.2143 23.9244 9.63865 24.5 8.92857 24.5H1.78571C1.07563 24.5 0.5 23.9244 0.5 23.2143V16.0714C0.5 15.3613 1.07563 14.7857 1.78571 14.7857Z" stroke="#707175" />
                  <path d="M16.0714 14.7857H23.2143C23.9244 14.7857 24.5 15.3613 24.5 16.0714V23.2143C24.5 23.9244 23.9244 24.5 23.2143 24.5H16.0714C15.3614 24.5 14.7857 23.9244 14.7857 23.2143V16.0714C14.7857 15.3613 15.3614 14.7857 16.0714 14.7857Z" fill="#707175" fillOpacity="0.5" stroke="#707175" />
                </svg>
                <h3 className="sidebar__content-title">Overview</h3>
              </Link>
            </li>
            <li
              className={whichSectionActive('Budget')}
              onClick={() => setSidebarState(state => ({ ...state, section: 'Budget' }))}
            >
              <Link to="/budget">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15.625 4.6875H9.375L7.06055 1.21484C6.71387 0.695312 7.08496 0 7.70996 0H17.29C17.915 0 18.2861 0.695312 17.9395 1.21484L15.625 4.6875ZM9.375 6.25H15.625C15.8105 6.37207 16.0205 6.50879 16.2158 6.66016C19.0283 8.43262 25 12.251 25 20.3125C25 22.9004 22.9004 25 20.3125 25H4.6875C2.09863 25 0 22.9004 0 20.3125C0 12.251 5.97168 8.43262 8.74023 6.66016C8.97949 6.50879 9.18945 6.37207 9.375 6.25ZM13.4814 10.9375C13.4814 10.3955 13.042 9.95605 12.4561 9.95605C11.958 9.95605 11.5186 10.3955 11.5186 10.9375V11.2305C11.2451 11.2891 10.9424 11.3721 10.7422 11.4795C10.0146 11.8115 9.37988 12.4268 9.22363 13.3203C9.13574 13.8184 9.18457 14.3018 9.38965 14.7363C9.59473 15.166 9.91211 15.4687 10.2344 15.6885C10.8008 16.0742 11.5479 16.2988 12.1191 16.4697L12.2266 16.499C12.9102 16.709 13.3691 16.8604 13.6572 17.0703C13.7793 17.1582 13.8232 17.2266 13.8379 17.2705C13.8574 17.3096 13.8867 17.3975 13.8525 17.5928C13.8232 17.7637 13.7305 17.9102 13.4619 18.0225C13.1641 18.1494 12.6807 18.2129 12.0557 18.1152C11.7627 18.0664 11.2402 17.8906 10.7764 17.7344C10.6689 17.6953 10.5615 17.6611 10.4639 17.627C9.95117 17.4561 9.39941 17.7344 9.22852 18.2471C9.05762 18.7598 9.33594 19.3115 9.84863 19.4385C9.90723 19.502 9.98047 19.5264 10.0635 19.5557C10.4053 19.6875 11.0547 19.8926 11.5186 20V20.3125C11.5186 20.8545 11.958 21.2939 12.4561 21.2939C13.042 21.2939 13.4814 20.8545 13.4814 20.3125V20.0439C13.7402 19.9951 13.9941 19.8779 14.2285 19.8193C15 19.4922 15.6152 18.8574 15.7764 17.9297C15.8643 17.4219 15.8252 16.9336 15.6299 16.4893C15.4395 16.0498 15.1318 15.7275 14.8047 15.4932C14.2139 15.0586 13.4229 14.8242 12.832 14.6436L12.749 14.6338C12.0996 14.4238 11.6309 14.2773 11.333 14.0723C11.2061 13.9844 11.167 13.9258 11.1572 13.9014C11.1475 13.8818 11.1182 13.8232 11.1475 13.6572C11.167 13.5596 11.2402 13.3984 11.5479 13.2617C11.8213 13.1201 12.3486 13.042 12.9443 13.0908C13.1592 13.1689 13.8184 13.2959 14.0088 13.3447C14.5264 13.4863 15.0635 13.1738 15.2002 12.6514C15.3418 12.1338 15.0293 11.5967 14.5068 11.46C14.292 11.4014 13.8037 11.3037 13.4814 11.2451V10.9375Z" fill="#707175" />
                </svg>
                <h3 className="sidebar__content-title">Budget</h3>
              </Link>
            </li>
            <li
              className={whichSectionActive('Settings')}
              onClick={() => setSidebarState(state => ({ ...state, section: 'Settings' }))}
            >
              <Link to="/settings">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.5 7.69231C9.82143 7.69231 7.69231 9.82143 7.69231 12.5C7.69231 15.1786 9.82143 17.3077 12.5 17.3077C15.1786 17.3077 17.3077 15.1786 17.3077 12.5C17.3077 9.82143 15.1786 7.69231 12.5 7.69231ZM12.5 15.9341C10.5769 15.9341 9.06593 14.4231 9.06593 12.5C9.06593 10.5769 10.5769 9.06593 12.5 9.06593C14.4231 9.06593 15.9341 10.5769 15.9341 12.5C15.9341 14.4231 14.4231 15.9341 12.5 15.9341Z" fill="#707175" />
                  <path d="M23.511 9.9142L21.4076 9.23811L20.9569 8.11131L22.0085 6.15819C22.2339 5.70747 22.1588 5.1065 21.7832 4.7309L19.9803 2.92802C19.6047 2.55242 19.0037 2.4773 18.553 2.70266L16.5999 3.75434L15.4731 3.30362L14.797 1.20025C14.6468 0.749533 14.196 0.373932 13.6702 0.373932H11.1161C10.5903 0.373932 10.1396 0.749533 10.0644 1.27537L9.38836 3.37874C8.93763 3.45386 8.56203 3.6041 8.18643 3.82946L6.23331 2.77778C5.78259 2.55242 5.18162 2.62754 4.80602 3.00314L3.00314 4.80602C2.62754 5.18162 2.55242 5.78259 2.77778 6.23331L3.75434 8.11131C3.6041 8.48691 3.45386 8.93763 3.30362 9.31323L1.20025 9.98932C0.749533 10.1396 0.373932 10.5903 0.373932 11.1161V13.6702C0.373932 14.196 0.749533 14.6468 1.27537 14.797L3.37874 15.4731L3.82946 16.5999L2.77778 18.553C2.55242 19.0037 2.62754 19.6047 3.00314 19.9803L4.80602 21.7832C5.18162 22.1588 5.78259 22.2339 6.23331 22.0085L8.18643 20.9569L9.31323 21.4076L9.98932 23.5861C10.1396 24.0368 10.5903 24.4124 11.1161 24.4124H13.6702C14.196 24.4124 14.6468 24.0368 14.797 23.5861L15.4731 21.4076L16.5999 20.9569L18.553 22.0085C19.0037 22.2339 19.6047 22.1588 19.9803 21.7832L21.7832 19.9803C22.1588 19.6047 22.2339 19.0037 22.0085 18.553L20.9569 16.5999L21.4076 15.4731L23.5861 14.797C24.0368 14.6468 24.4124 14.196 24.4124 13.6702V11.1161C24.4124 10.5903 24.0368 10.0644 23.511 9.9142ZM22.91 13.4448L20.2057 14.2712L20.1305 14.6468L19.4545 16.2243L19.2291 16.5999L20.5813 19.0789L19.0789 20.5813L16.5999 19.2291L16.2243 19.4545C15.6985 19.7549 15.1726 19.9803 14.6468 20.1305L14.2712 20.2057L13.4448 22.91H11.3415L10.5152 20.2057L10.1396 20.1305L8.56203 19.4545L8.18643 19.2291L5.70747 20.5813L4.20506 19.0789L5.55722 16.5999L5.33186 16.2243C5.03138 15.6985 4.80602 15.1726 4.65578 14.6468L4.58066 14.2712L1.87634 13.4448V11.3415L4.43042 10.5903L4.58066 10.2147C4.7309 9.61372 4.95626 9.08787 5.25674 8.56203L5.48211 8.18643L4.20506 5.70747L5.70747 4.20506L8.11131 5.55722L8.48691 5.33186C9.01275 5.03138 9.5386 4.80602 10.1396 4.65578L10.5152 4.50554L11.3415 1.87634H13.4448L14.2712 4.50554L14.6468 4.65578C15.1726 4.80602 15.6985 5.03138 16.2243 5.33186L16.5999 5.55722L19.0789 4.20506L20.5813 5.70747L19.2291 8.18643L19.4545 8.56203C19.7549 9.08787 19.9803 9.61372 20.1305 10.1396L20.2057 10.5152L22.91 11.3415V13.4448Z" fill="#707175" />
                </svg>
                <h3 className="sidebar__content-title">Settings</h3>
              </Link>
            </li>
          </ul>
        </nav>
      </aside >
    </>
  )
}

export default Sidebar